# 修正点（README.md / 実装チェック結果）

## 未対応・要修正一覧

### UIレイアウト（ドラクエ風）の不足（README.md 6.5）

#### 1. 共通レイアウト（6.5.3）
- ❌ **上部バー未実装**: ユーザー名（左）と現在階層（右、例: `FLOOR 12`）を表示する上部バーがない
- ❌ **下部ログ/操作領域のレイアウト不一致**: 「左=メッセージウィンドウ、右=コマンドウィンドウ」の固定配置になっていない（現状は画面ごとにレイアウトが異なる）
- ❌ **画面レイアウト**: ゲーム画面の幅を固定

#### 2. PartySelect画面（6.5.4）
- ❌ **キャラクター画像/アイコン未表示**: 一覧が「名前+説明」のみ（画像/アイコンなし）
- ❌ **キャラクターLv未表示**: `appState.state.characters[characterId].level` を参照して表示していない
- ❌ **選択枠（3枠）未実装**: 右側の「選択中3人枠」がない

#### 3. Battle画面（6.5.5, 6.2）
- ❌ **敵画像未表示**: 敵がテキストのみ（`imagePath`/`imageKey` 参照なし）
- ❌ **ボス強調表示なし**: `isBoss` を反映した強調表示がない
- ❌ **キャラクター画像/アイコン未表示**: 味方ステータス欄に画像/アイコンがない
- ❌ **画面レイアウト**: 敵を右側、左が味方(操作キャラ)となるように位置を変更。画面左から（味方ステータス、味方画像、スペース、敵画像、敵ステータス）という並びになるように修正。
- ❌ **バトルログ位置不一致**: 最新のログが最上段に来るようにする。ログは５行のみとし、それ以上はスクロールで見るように変更
- ⚠️ **ヒット演出未実装**: 敵画像点滅/シェイク等がない

#### 4. Menu画面（6.5.6）
- 

#### 5. Stats/Ranking画面（6.5.7）
- ❌ **順位表示なし**: ランキングテーブルに「順位」カラムがない（現状: ユーザー/最高階層/最大ダメージのみ）

### キーボード操作（README.md 6.5.1 / 6.5.2）
- ❌ **Start画面**: ↑↓で選択、Enterで決定の導線がない（ボタンのみ）
- ❌ **Login/Register画面**: Enterで実行できない（`<form>`で包まれていないため、Enter押下時にsubmitされない）

### 画面仕様の不足/ズレ（README.md 6.2 / 6.5.5 / 6.5.8）
- ⚠️ **バトルログのスクロール**: 長文/多行になった時のスクロールUIがない
- ⚠️ **バトルログ「最新が下」**: 現状のログ配列の並びが要件通りか、UI側で保証していない（要確認）
- ❌ **RunDetailの表示**: キャラクター/スキルがID表示のみ。マスタから名前へ変換して表示する必要あり

## マスタDB移行/管理者機能

### README（設計）とDBスキーマの差分
- ⚠️ **`master_skills.power_type`**:
  - README: `ENUM('physical','magical')`
  - 実装/マスタJSON: `healing` が存在（例: `heal_small`）
  - → READMEの修正 or スキーマ/データの修正が必要
- ⚠️ **`master_conditions.value`**:
  - README: `INT`
  - 実装/マスタJSON: `0.2` 等の小数が存在（`multiply`バフ/デバフ）
  - → READMEの修正 or スキーマ/データの修正が必要


